language: python
python:
- '2.7'
sudo: required
services:
- docker
install:
- docker pull kbase/kb-sdk
- docker run kbase/kb-sdk genscript > $HOME/bin/kb-sdk
- chmod 755 $HOME/bin/kb-sdk
- export PATH=$PATH:$HOME/bin/kb-sdk
- kb-sdk sdkbase
- git clone https://github.com/JamesJeffryes/CompoundSetUtils.git
- cd CompoundSetUtils
- kb-sdk test || true
- make build-test-script
- sed -i "s/test_token=/test_token=$TEST_TOKEN/" test_local/test.cfg
- sed -i 's/$(id -u)/0:0/' test_local/run_tests.sh
script:
- kb-sdk test
env:
  global:
    secure: jjCpwPNAh+4YZ7+mbCruGEYO1YWnkvZxLA3d6fA+H09CCKvyVn6BHj6pIkalIKHKpJAiRy61G6wnKaviEt2JqSH/P4O7ighDaVWZPrQTrq9a0G65XyJDIVMZfS+gWqij9kS2m5sdojRILyRqlCa5o+Zz5yGpM0iK6r6rosqT0dfCTFjcocFojEYI3lSp2OWrBg/A262c0q5+BkeJVQbLgHkJs2SUDax3MDVnn1Z4Od7/a1pRYeRF7y4pziC3BrhEXDOfHDs0sa85VvBo7Cv6KROCgxIDZqSZt296uxdUU2AaXnJWLOunMRCvpODbxcojOuDOj6QRIWf0O4NO/pozKzEBypGycu3b8h/pKjKmS6sExYvj4PWHBwaR8G5LuWUTlAfti0MWmZ3rt0sGBkEuACndGvWNBQPJCjdTciavW2tmiaspZ0Fe0wVBV5kCsxQ1Z9oRa9yn7hziHis9e+E6ocDINZTsmbcskBayRT7ckXAcFdT3G8dmcnsu7eb8Caxjya0ejnAh6GL1+45otHxxELt1vjXFMlYyyNxkarKnHUpIFkw2ZXLT/9wGG9Sw3zZBh1e0G2MRlFnbDAi5tPL8WvcuLTQe8qeHUmx8JTHB6V+SxyvNT4KX81YesiK1As9nk0wbOfpKmRHxTlLyBTrKjAGKrOvo88XcXfGczqZu7sE=
